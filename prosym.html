<!DOCTYPE html>
<meta charset="utf-8">
<title>CNS Visualization</title>

<link rel="stylesheet" href="css/leaflet.css"/>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600" rel="stylesheet">

<style>

body {
  position: absolute;
  width:  100%;
  height: 100%;
  margin: 0px;
  font-family: 'Open Sans', sans-serif !important;
  overflow: hidden;  
}

#map {
  left:0px;
  right:0px;
  height: 100%;
  width:100%;
  bottom:0px;
  position: absolute;
  overflow: hidden;
}

path {
  fill: none;
  stroke: #4682B4;
  stroke-opacity: 0.6;
  stroke-linecap: round;
  cursor: pointer;
}

path:hover {
  stroke-opacity: 1;
  stroke: #315B7E;
}

/*.curvesettings {
  position: absolute;
  left: 10px;
  bottom:26px;
}*/

.box {
  border: 1px solid #eaeaea;
  margin: 3px;
  padding: 5px;
  background-color: white;
  font-size: 12px;
}

.title {
  font-weight: 600;
}

.source {
  position: absolute;
  width: 50%;
  top: 6px;
  left: 50px;
}

.barChart02{
  background: white; 
}

circle{
  cursor: pointer;
}

#stats{
  position: absolute;
  bottom:0px;
  width:130px;
}

.modal-header-warning {
  color:#fff;
  padding:9px 15px;
  border-bottom:1px solid #eee;
  background-color: #f0ad4e;
  -webkit-border-top-left-radius: 5px;
  -webkit-border-top-right-radius: 5px;
  -moz-border-radius-topleft: 5px;
  -moz-border-radius-topright: 5px;
  border-top-left-radius: 5px;
  border-top-right-radius: 5px;
}

div.tooltip { 
    position: absolute;     
    text-align: center;     
    width: 60px;          
    height: 30px;         
    padding: 2px;       
    font: 12px sans-serif;    
    background: white; 
    border: 0px;    
    border-radius: 8px;     
    pointer-events: none;   
 
}
.tooltip-inner {

    
    width: 100px; 
}
.btn-info{
    position: absolute;
   top:10px;
   left:40px;
    z-index: 10;
}
.modal-dialog{
    position: relative;
    top:90px;
} 

#aboutTable th{
    color:black;


  }

#circle{
z-index: 1;
}

#rightClick{
z-index: 2;

}
</style>
<script src="lib/angular/angular.js"></script>
  <script src="lib/head.js"></script>
  <script src="src/Init.js"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css">

  <script src="lib/jquery.min.js"></script>
  <script src="lib/bootstrap.min.js"></script>
<body>

<div id="container" class="flexChild rowParent">
 <!-- Trigger the modal with a button -->
 <div ng-include="'partials/prosym_about_modal.html'"></div>
  <button type="button" class="btn btn-info btn-s" data-toggle="modal" data-target="#aboutModal" >  <span class="glyphicon glyphicon-info-sign"></span> About</button>
  
  <div ng-include="'partials/prosym-popup.html'"></div>
<div id="rowChild18007" class="flexChild">
<div ng-controller="ngCnsVisual" ng-data-attr="ng-cns-visual" ng-reset-on-resize ng-config="visuals/prosym01-config.js" ng-vis-type="D3ProportionalSymbol" id="prosym01" ng-data-field="nanohub" ng-identifier="prosym01">
                    </div>

  <div id="map"></div>



  <!-- <form class="curvesettings"> -->
  <div class="box" id = "stats">
  <button type="button" class="close" aria-label="Close" onclick="closeStats()" data-toggle="tooltip" title=" Close Stats " data-placement= "right">
  <span aria-hidden="true" >&times;</span>
</button>
    <div class="title" >User Statistics</div>
    <div>#Authors Geocoded: <span id="geocoded"></span>.</div>
    <div>#Authors Not Geocoded: <span id="notgeocoded"></span>.</div>
	    <div >

  <!-- Trigger the modal with a button -->
  <div ng-include="'partials/prosym_warning_modal.html'"></div>
  <button type="button" class="btn btn-warning btn-xs" data-toggle="modal" data-target="#warningModal">  <span class="glyphicon glyphicon-info-sign"></span> Warning</button>

  
  
</div>
  </div>
 
  <!-- </form> -->
</div>

<div id="rowChild3756" class="flexChild selected">
<div ng-controller="ngCnsVisual" ng-data-attr="ng-cns-visual" ng-reset-on-resize ng-config="visuals/barChart-configs.js" ng-vis-type="HVBarChart" id="barChart02" ng-data-field="nanohub" ng-identifier="barChart02" style="">
      </div></div>
</div>

<div class="legend-container coauthor legend">
                    <button>
                        <span>Legend</span>
                    </button>
                    <div class="legend-row">
                        <div flex layout="row">
                            <div flex="75" layout="column">
                                <div flex class="legend-item-label" id = "nodes">Nodes</div>
                                <div flex layout="row">
                                    <div flex class="legend-item">
                                        <div layout="column" layout-fill class="wrapper" ng-controller="ngCnsVisual" ng-data-attr="ng-cns-visual" ng-vis-type="LegendNodeSize" id="nodeSize" ng-identifier="nodeSize">
                                        </div>
                                    </div>
                                 
                                   
                                </div>
                            </div>
                         
                        </div>
                    </div>
                </div>
</body>
<script type="text/javascript">
  $(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip(); 
      $(".legend-container").click(function() {
                toggleLegend();
            });  
});

function closeStats(){
$("#stats").hide();
}  

 var legendToggleOff = true;
  

    function toggleLegend() {
        if (legendToggleOff) {
            $(".legend-container").animate({
                bottom: '0px'
            }, 250);
            legendToggleOff = false;
        } else {
            $(".legend-container").animate({
                bottom: '-210px'
            }, 75);
            legendToggleOff = true;
        }

    }
</script>

 
<!-- <script src="http://d3js.org/d3.v3.min.js"></script>
<script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
<script src="http://rawgit.com/geodesign/spatialsankey/master/spatialsankey.js"></script> -->